!function(e){function t(e){try{var t=e.match(/\d+/g);return t[0]=~~t[0],t[1]=~~t[1],t}catch(a){return console.error("参数错误"),null}}function a(e,t){t||(t=this);var a=!0,n=$(t).val(),r=$(t).attr("v-t"),o=n?$(t).attr("error-msg"):$(t).attr("placeholder"),i=r.split(" ");for(var d in i){var l=i[d].indexOf("["),c=l>-1?i[d].substring(0,l):i[d],s=u[c](n,$(t));if(!s)break}return $(t).next("tip").length<=0&&$("<tip class='linear-t un-select'>"+o+"</tip>").insertAfter($(t)),$(t)[0].hasAttribute("req")||0!==n.length?$(t)[0].hasAttribute("req")&&0===n.length?($(t).addClass("error").next("tip").html("此项不能为空").show(),!1):(s?$(t).removeClass("error").next("tip").hide():(a=!1,$(t).addClass("error").next("tip").html(o).show()),a):($(t).removeClass("error").next("tip").html("").hide(),!0)}function n(){var e=(this._global="$*",document.getElementsByTagName("template"));this._tmp_map=function(){for(var t={},a=0;a<e.length;a++){var n=e[a],r=n.getAttribute("name");t[r]||(t[r]=n.innerHTML)}return t}()}function r(e,t){var a=/(\.*)\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$/;if(!URL&&e&&a.test(e.name)){var n=new FileReader;n.onloadstart=function(e){},n.onload=function(e){2===e.target.readyState&&t&&t(e.target.result)},n.onloadend=function(e){arguments[3]&&arguments[3](e)},n.onprogress=function(e){arguments[4]&&arguments[4](e)},n.onerror=function(e){arguments[2]&&arguments[2](e)},n.onabort=function(e){arguments[2]&&arguments[2](e)},n.readAsDataURL(e)}else t(URL?URL.createObjectURL(e):null)}function o(e){var t={width:0,height:0};if("string"==typeof e){var a=new Image;return a.src=e,t.width=a.width,t.height=a.height,t}if(e){if(e.naturalWidth&&"undefined"==typeof e.naturalWidth){var a=new Image;return a.src=e.src,t.width=a.width,t.height=a.height,t}return t.width=e.naturalWidth,t.height=e.naturalHeight,t}}function i(e){return Object.prototype.toString.call(e)}function d(e){function t(e,t){for(var n in e){var r=t;"[object Object]"===i(e[n])?(r+="[object Array]"===i(e)?"["+n+"].":n+".",arguments.callee(e[n],r)):"[object Array]"===i(e[n])?(r+="[object Array]"===i(e)?"["+n+"].":n,arguments.callee(e[n],r)):(r+=n,a[r]=e[n])}}var a={},n="";return t(e,n),a}function l(e,t){function a(e){for(var t={},a=0;a<e.length;a++){var n=[];switch(e[a].type){case"radio":e[a].checked&&(n=e[a].value,t[e[a].name]=n);break;case"checkbox":e[a].checked&&(n=e[a].value,t[e[a].name]||(t[e[a].name]=[]),t[e[a].name].push(n));break;default:n=e[a].value,t[e[a].name]=n}}return t}function n(e,t,a,n,r,o){var i="",d=!1;t!==e.length-1?(/\w+\[[0-9]+\]$/.test(e[t])?(i=e[t].replace(/\[[0-9]+\]$/g,""),o=~~e[t].match(/\[[0-9]+\]$/)[0].replace("[","").replace("]",""),d=!0,n?(a[o]||(a[o]={}),a[o][i]=[]):a[i]||(a[i]=[])):(i=e[t],n?(a[o]||(a[o]={}),a[o][i]={}):a[i]||(a[i]={})),arguments.callee(e,t+1,n?a[0][i]:a[i],d,r,o)):n?(a[o]||(a[o]={}),a[o][e[t]]=r):a[e[t]]=r}for(var r=$(e).find(t?t:".form-data"),o={},i=a(r),d=0;d<r.length;d++)if(r[d].name){var l=r[d].name.split("."),c=i[r[d].name];n(l,0,o,!1,c)}return o}var c=$(".validate"),s=e.regexMap={number:/^[0-9]*$/,pint:/^[0-9]+$/,pintege:/^[1-9]*[1-9][0-9]*$/,lintege:/^-[0-9]\d*$/,color:/^[a-fA-F0-9]{6}$/,zipcode:/^[0-9]{5,6}$/,qq:/^[1-9]*[1-9][0-9]*$/,username:/^\w+$/,letter:/^[A-Za-z]+$/,letter_u:/^[A-Z]+$/,letter_l:/^[a-z]+$/,decmal:/^([+-]?)\d*\.\d+$/,decmal1:/^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$/,decmal2:/^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$/,decmal3:/^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$/,decmal4:/^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$/,decmal5:/^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$/,notempty:/^\S+$/,picture:/(\.*)\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$/,tel:/^0(10|2[0-5789]|\d{3})-{0,1}\d{7,8}$/,ip:/^((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]|[*])\.){3}(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]|[*])$/,mobile:/^1(3|4|5|7|8)[0-9]\d{8}$/,email:/[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,idcard:/((11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|91)\d{4})((((19|20)(([02468][048])|([13579][26]))0229))|((20[0-9][0-9])|(19[0-9][0-9]))((((0[1-9])|(1[0-2]))((0[1-9])|(1\d)|(2[0-8])))|((((0[1,3-9])|(1[0-2]))(29|30))|(((0[13578])|(1[02]))31))))((\d{3}(x|X))|(\d{4}))/,chinese:/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3])*$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/},u=e.myRegex={notEmpty:function(e,t){return"select"===t[0].nodeName.toLowerCase()?0!=t.val():!!(e+"").replace(/\s/g,"")},between:function(e,a){var n=$(a).attr("v-t").match(/between\[[0-9]+,[0-9]+\]/g)[0],r=t(n);return s.pint.test(e)&&!(e<r[0]||e>r[1])},length:function(e,a){var n=$(a).attr("v-t").match(/length\[[0-9]+,[0-9]+\]/g)[0],r=t(n);return!(e.length<r[0]||e.length>r[1])}};for(var m in s)!function(){var t=m;u[t]=e.myRegex[t]=function(e){return s[t].test(e)}}();var g=function(e){return $(c).focus(a).change(a),e&&$(c).each(a),this};g.prototype.icheck=function(){for(var e=!0,t=0;t<c.length;t++)a(null,c[t])||(e=!1);return e};e.Base={winW:function(){return document.documentElement.offsetWidth||document.getElementsByTagName("body")[0].offsetWidth},winH:function(){return document.documentElement.clientHeight||document.body.clientHeight},myRegex:u,validateForm:g,getImg:r,getImgRealWH:o,parseForm:l,json2FormData:d,template:n};n.prototype.get=function(e,t){var a=this._tmp_map[e];for(var n in t){var r=t[n];t[n].format&&(r=t[n].format(t[n].value,t)),a=a.split(this._global+n).join(r?r:"")}return a.replace(/\$\*\w+(\[\d+\])?(\.\w+(\[\d+\])?){0,100}/gi,"")},$("#mainNav").length>0&&$("#mainNav").on("click",".nav-dir",function(){$(this).closest("li").toggleClass("active")});var h='<div id="ajax-load-msg-box" class="tip"><span class="h5-loader"></span>$msg</div>';Base.setTip=function(e){return $("#ajax-load-msg-box")[0]?($("#ajax-load-msg-box").text(e).show(),$("#ajax-load-msg-box")):(h=h.replace(/\$msg/g,e),$(h).appendTo($("body")).show(),$("#ajax-load-msg-box"))},$.ajaxSetup({beforeSend:function(){return $("#ajax-load-msg-box")[0]?void $("#ajax-load-msg-box").addClass("show"):($(h).appendTo($("body")).addClass("show"),!0)},complete:function(){setTimeout(function(){$("#ajax-load-msg-box").removeClass("show")},200)}}),e.Method={POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"}}(window);