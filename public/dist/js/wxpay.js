!function(){var e={onBridgeReady:function(){function n(){WeixinJSBridge.invoke("getBrandWCPayRequest",payArgs,function(n){"get_brand_wcpay_request:ok"===n.err_msg?(layer.open({content:"支付成功"}),e.redirect("true")):(layer.open({content:"支付失败"}),e.redirect("false"))})}"prepay_id=undefined"===payArgs["package"]?(layer.open({content:"商户订单号重复"}),e.redirect("false")):(layer.open({content:"支付中…"}),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n)):n())},redirect:function(e){setTimeout(function(){location.href=callbackurl+"?status="+e},600)}};e.onBridgeReady()}();